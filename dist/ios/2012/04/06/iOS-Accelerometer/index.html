<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <title>Hello Accelerometer</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="author" content="Ali Raza" />
  
  <meta name="description" content="How to get data from iphone accelerometer, newbie tutorial."/>
  

  
  <meta name="keywords" content="geek blog head technology  iphone accelerometer ios" />
  
  <link href='http://fonts.googleapis.com/css?family=Poiret+One%7CPT+Serif%7COpen+Sans:400,300' rel='stylesheet' type='text/css'>

      <!-- build:css(app) /css/main.css -->
    <link href="/_bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link href="/css/socialicons.css" rel="stylesheet">
    <link href="/css/template.css" rel="stylesheet">
    <link href="/css/colors/color-blue.css" rel="stylesheet" id="colorcss">
    <link href="/css/geekshead.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/animate.css" rel="stylesheet">
    <!-- endbuild -->
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">


  <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.js"></script>

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="/_bower_components/html5shiv/src/html5shiv.js"></script>
      <![endif]-->

    </head>
    <body>
      <nav class="navbar-fixed-top clearfix">
        <ul class="clearfix">
          <li><a href="/">Blog</a></li>
          <li><a href="/aboutme">About</a></li>
          <li><a href="/folio">Work</a></li>
          <li><a href="/resources">Resources</a></li>
          <li><a href="/jobs">Jobs</a></li>
          <li><a href="/contactme">Contact</a></li>
        </ul>
        <a href="#" id="pull">Navigation</a>
      </nav>
      <div class="container">
<!--         <div class="row clearfix">
          <div class="col-md-3">
            <img src="/images/logo-without-text.png" width="150px" height="150px" class="img-responsive"/>
          </div>
          <div class="col-md-6">
            <h1 class="logo">From the <span class="geek">Geek's</span> <span class="head">Head</span></h1>
          </div>
        </div> -->
        <div class="masthead clearfix">
<!--           <a id="logoimg" href="/">
            <img src="/images/logo-without-text.png" class="centreThis img-responsive"/>
          </a> -->
          <h1 class="logo">From the <span class="geek">Geek's</span> <span class="head">Head</span></h1>
        </div>
        <hr> 

        <div class="row main-content">
          <div class="col-md-3">
	
	<a id="leftChev" class="pull-left" href="/web/2012/03/06/Free-CDN/" title="Previous Post:
	Free CDN - Put your static resources in the cloud"><span class="icon icon-4x icon-chevron-left"></span></a>
	
</div>
<div class="col-md-6 zone-content">
	<article>
		<h1 class="animated bounceInUp">Hello Accelerometer</h1>
		<p><small class="centreThis"><a href="/web/2012/03/06/Free-CDN/" id="leftChevResp"><span class="icon icon-2x icon-chevron-left"></span></a>  06 Apr 2012  <a href="/thoughts/2012/04/09/Windows-Phone-thoughts/" id="rightChevResp"><span class="icon icon-2x icon-chevron-right"></span></a></small></p>
		<p>The question new devs ask me the most is &#8220;How do we use the iPhone accelerometer?&#8221;, so I have decided to write a post about how to get data from the iOS device&#8217;s accelerometer.</p>
<p>The accelerometer is a sensitive piece of hardware that can detect the changing position of the device, from translation motion to rotation; it has the capability to detect the changes using a 3D coordinate system. Using the accelerometer devs can enhance the UX of their apps considerably, similarly game developers can make their games more engaging with it. In this blog post I am gonna show you how to get the accelerometer coordinate values and display them inside a label. So lets get started.</p>
<p>First lets create a simple UI in the interface builder:</p>
<p><img src="/images/accell-ui.png" alt="" /></p>
<p>That&#8217;s that a simple and clean UI. Now lets get to some action, lets write some code. First we create some IBOutlet properties in out interface file for our labels:</p>
<div class="highlight"><pre><code class="objc"><span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>

<span class="k">@interface</span> <span class="nc">ViewController</span> : <span class="nc">UIViewController</span>

<span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="kt">IBOutlet</span> <span class="n">UILabel</span> <span class="o">*</span><span class="n">xLabel</span><span class="p">;</span>
<span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="kt">IBOutlet</span> <span class="n">UILabel</span> <span class="o">*</span><span class="n">yLabel</span><span class="p">;</span>
<span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="kt">IBOutlet</span> <span class="n">UILabel</span> <span class="o">*</span><span class="n">zLabel</span><span class="p">;</span>

<span class="k">@end</span>
</code></pre></div><p>We are not done with the interface file yet, we need to implement the UIAccelerometer delegate and create a property to access its values. So after adding these our interface would look like this:</p>
<div class="highlight"><pre><code class="objc"><span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>

<span class="k">@interface</span> <span class="nc">ViewController</span> : <span class="nc">UIViewController</span> <span class="o">&lt;</span><span class="n">UIAccelerometerDelegate</span><span class="o">&gt;</span>



<span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="kt">IBOutlet</span> <span class="n">UILabel</span> <span class="o">*</span><span class="n">xLabel</span><span class="p">;</span>
<span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="kt">IBOutlet</span> <span class="n">UILabel</span> <span class="o">*</span><span class="n">yLabel</span><span class="p">;</span>
<span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="kt">IBOutlet</span> <span class="n">UILabel</span> <span class="o">*</span><span class="n">zLabel</span><span class="p">;</span>

<span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">UIAccelerometer</span> <span class="o">*</span><span class="n">accelerometer</span><span class="p">;</span>


<span class="k">@end</span>
</code></pre></div><p>So all that takes care of the interface. Now we need to setup the accelerometer object so it can actually be of use. We now move to the implementation file of our project and modify the viewDidLoad method as follows:</p>
<div class="highlight"><pre><code class="objc"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>
	
    <span class="n">self</span><span class="p">.</span><span class="n">accelerometer</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIAccelerometer</span> <span class="n">sharedAccelerometer</span><span class="p">];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">accelerometer</span><span class="p">.</span><span class="n">updateInterval</span> <span class="o">=</span> <span class="mf">.2</span><span class="p">;</span>
    <span class="n">self</span><span class="p">.</span><span class="n">accelerometer</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
    
<span class="p">}</span>
</code></pre></div><p>Important thing to note here is how we have initialized the accelerometer object, one should never initialize a new instance of this object as its a shared resource. This is the correct way to initialize it. The other two statements are how we setup the update interval of the accelerometer and tell it whose going to be its delegate(in this case its our viewcontroller).</p>
<p>We are almost done with this example, the final piece of the puzzle is UIAccelerometer&#8217;s delegate method didAccelerate. We implement that this way:</p>
<div class="highlight"><pre><code class="objc"><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">accelerometer:</span><span class="p">(</span><span class="n">UIAccelerometer</span> <span class="o">*</span><span class="p">)</span><span class="nv">accelerometer</span> <span class="nf">didAccelerate:</span><span class="p">(</span><span class="n">UIAcceleration</span> <span class="o">*</span><span class="p">)</span><span class="nv">acceleration</span><span class="p">{</span>
    
    <span class="n">self</span><span class="p">.</span><span class="n">xLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="n">stringWithFormat</span><span class="o">:</span><span class="s">@&quot;%f&quot;</span><span class="p">,</span> <span class="n">acceleration</span><span class="p">.</span><span class="n">x</span><span class="p">];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">yLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="n">stringWithFormat</span><span class="o">:</span><span class="s">@&quot;%f&quot;</span><span class="p">,</span> <span class="n">acceleration</span><span class="p">.</span><span class="n">y</span><span class="p">];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">zLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="n">stringWithFormat</span><span class="o">:</span><span class="s">@&quot;%f&quot;</span><span class="p">,</span> <span class="n">acceleration</span><span class="p">.</span><span class="n">z</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div><p>Trust me thats basically all you need to read data from the accelerometer. Our project is complete. Source files are available on <a href="https://github.com/aliirz/AccelerometerDemo">github</a> and here is a video showing the project in action:</p>
<div class="flex-video widescreen vimeo">
<p><iframe src="http://player.vimeo.com/video/39893304?title=0&amp;byline=0&amp;portrait=0" width="500" height="400" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe><p><a href="http://vimeo.com/39893304">ios accelerometer</a> from <a href="http://vimeo.com/user9937701">ali raza</a> on <a href="http://vimeo.com">Vimeo</a>.</p></p>
</div>
<p>Thats it for now. I hope it proves helpful.</p>
	</article>
	<div class="row" id="disqus_thread"></div>
	<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'aliirz'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  	var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  	dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>
<div class="col-md-3">
	
	<a id="rightChev" class="pull-right" href="/thoughts/2012/04/09/Windows-Phone-thoughts/" title="next Post:
	To Windows Phone or Not"><span class="icon icon-4x icon-chevron-right"></span></a>
	
</div>


        </div>

        <hr>

        <div class="row triple-row">
         <div id="triple-first" class="col-md-4 triple">
          <div class="zone zone-triple-first">
           <article class="widget-triple-first widget-html-widget widget">
            <header>
          
           </header>
           <img src="/images/logo-without-text.png" class="centreThis img-responsive"/>
         </article>
       </div>
     </div>

     <div id="triple-second" class="col-md-4 triple">
      <div class="zone zone-triple-second">
       <article class="widget-triple-second widget-html-widget widget">
        <header>
            <h1>From the Geek's Head</h1>
       </header>
           <p>A blog about technology, software development frameworks like rails, cocoa, asp.net mvc and anything that comes across <a href="/aboutme">this</a> geek's head.</p>
     </article>
   </div>
 </div>

 <div id="triple-third" class="col-md-4 triple">
  <div class="zone zone-triple-third">
   <article class="widget-triple-third widget-html-widget widget">
    <header>
     <h1>Get Connected</h1>
   </header>
   <p id="social">
     <a href="http://twitter.com/aliirz"><i class="icon icon-twitter icon-2x"></i></a>
     <a href="http://plus.google.com/aliirz"><i class="icon icon-google-plus icon-2x"></i></a>
     <a href="http://github.com/aliirz"><i class="icon icon-github icon-2x"></i></a>
   </p>
 </article>
</div>
</div>
</div>

<hr>
<div class="row">
  <div class="copyright col-md-12">Copyright 2013 - <a href="http://www.sweetpixelstudios.com">SweetPixel Studios</a></div>
</div>

</div>  <!-- End Container -->


<!-- build:js(app) /js/script.js -->
<script src="/_bower_components/jquery/jquery.js"></script>
<script src="/_bower_components/bootstrap/dist/js/bootstrap.js"></script>
</script src="/js/geekshead.js"></script>
<!-- endbuild -->

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
    var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src='//www.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
</body>
</html>